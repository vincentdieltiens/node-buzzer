{"version":3,"sources":["Buzzer.js"],"names":["callHandlers","handlers","controllerIndex","buttonIndex","i","throwImplementError","method","Error","Buzzer","eventListeners","event","callback","push","index","indexOf","splice","parameters","map","listener","call","key","undefined","timeout","value","controllerIndexes","times","duration"],"mappings":"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","file":"Buzzer.js","sourcesContent":["function callHandlers(handlers/*:Array<Function>*/, controllerIndex/*:number*/, buttonIndex/*:number*/) {\n\tif (!handlers) {\n\t\treturn;\n\t}\n\n\tfor (var i in handlers) {\n\t\thandlers[i](controllerIndex, buttonIndex);\n\t}\n}\n\nfunction throwImplementError(method) {\n\tthrow new Error(\"You have to implement the \"+method+\" method\");\n}\n\nexport class Buzzer {\n\tconstructor() {\n\t\tthis.eventListeners = { 'ready': [], 'leave': [], 'error': [] };\n\t\tthis.handlers = [];\n\t}\n\n\taddEventListener(event/*: string*/, callback/*: Function*/) {\n\t\tthis.eventListeners[event].push(callback);\n\t}\n\n\tremoveEventListener(event/*: string*/, callback/*: Function*/) {\n\t\tvar index = this.eventListeners[event].indexOf(callback);\n\t\tthis.eventListeners[event].splice(index, 1);\n\t}\n\n\ttriggerEvent(event, parameters) {\n\t\tif (event in this.eventListeners) {\n\t\t\tthis.eventListeners[event].map((listener) => listener.call(listener, parameters));\n\t\t}\n\t}\n\n\tcallHandlers(key, controllerIndex, buttonIndex) {\n\t\tif (this.handlers && this.handlers[key]) {\n\t\t\tlet handlers = this.handlers[key];\n\t\t\tfor (var i in handlers) {\n\t\t\t\thandlers[i](controllerIndex, buttonIndex);\n\t\t\t}\n\t\t}\n\t}\n\n\tonPress(callback/*: Function*/, controllerIndex/*: number*/, buttonIndex/*: number*/)/*: Function */{\n\t\tvar key = 'all';\n\t\tif (controllerIndex != undefined || buttonIndex != undefined) {\n\t\t\tkey = '';\n\t\t\tif (controllerIndex != undefined) {\n\t\t\t\tkey = 'c'+controllerIndex;\n\t\t\t}\n\t\t\tif (buttonIndex != undefined) {\n\t\t\t\tkey += 'b'+buttonIndex\n\t\t\t}\n\t\t}\n\n\t\tif (!(key in this.handlers)) {\n\t\t\tthis.handlers[key] = [];\n\t\t}\n\t\tthis.handlers[key].push(callback);\n\t\treturn () => {\n\t\t\tvar index = this.handlers[key].indexOf(callback);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis.handlers[key].splice(index, 1);\n\t\t\t}\n\t\t};\n\t}\n\n\tconnect(timeout=3000) {\n\t\tthrowImplementError(\"connect\");\n\t}\n\n\tleave() {\n\t\tthrowImplementError(\"leave\");\n\t}\n\n\tlight(controllerIndex, value) {\n\t\tthrowImplementError(\"light\");\n\t}\n\n\tlightOn(controllerIndexes) {\n\t\tthrowImplementError(\"lightOn\");\n\t}\n\n\tlightOff(controllerIndexes) {\n\t\tthrowImplementError(\"lightOff\");\n\t}\n\n\tblink(controllerIndexes, times, duration) {\n\t\tthrowImplementError(\"blink\");\n\t}\n\n\tcontrollersCount() {\n\t\tthrowImplementError(\"controllersCount\");\n\t}\n}"]}